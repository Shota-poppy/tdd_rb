<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />

    <title>テスト駆動開発から始めるRuby入門</title>
  </head>
  <body>
    <!-- ヘッダー -->
    <header class="py-4"></header>
    <!-- /ヘッダー -->
    <div class="container text-center">
      <h1>テスト駆動開発から始める</h1>
      <h1>Ruby入門</h1>
    </div>
    <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark stick-top">
      <!-- サブコンポーネント -->
      <div class="container">
        <a href="index.html" class="navbar-brand">TDDRuby</a>
        <!-- 切り替えボタン -->
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbar-content"
          aria-controls="navbar-content"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <!-- ナビゲーション -->
        <div class="collapse navbar-collapse" id="navbar-content">
          <!-- ナビゲーションメニュー -->
          <!-- 左側メニュー: トップページの各コンテンツへのリンク -->
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a href="#" class="nav-link"
                >Top <span class="sr-only">(current)</span></a
              >
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">About</a>
            </li>
            <li class="nav-item dropdown">
              <a
                href="#"
                class="nav-link dropdown-toggle"
                id="navbarDropdown"
                role="button"
                data-toggle="dropdown"
                aria-hhaspopup="true"
                aria-expanded="false"
              >
                Contents
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a href="#" class="dropdown-item">FizzBuzz</a>
              </div>
            </li>
          </ul>
          <!-- /ナビゲーションメニュー -->
        </div>
      </div>
      <!-- サブコンポーネント -->
    </nav>
    <!-- メイン -->
    <main>
      <!-- コンテンツ01 -->
      <div id="app"></div>
      <div id="fizz-buzz-app">
        <div class="py-3">
          <section id="menu">
            <div class="container">
              <div id="app__message"></div>
              <div class="nav nav-tabs" id="tab-menus" role="tablist">
                <a
                  aria-controls="panel-menu01"
                  aria-selected="true"
                  class="nav-item nav-link active"
                  data-toggle="tab"
                  href="#panel-menu01"
                  id="tab-menu01"
                  role="tab"
                  >Counter</a
                >
                <a
                  aria-controls="panel-menu02"
                  aria-selected="false"
                  class="nav-item nav-link"
                  data-toggle="tab"
                  href="#panel-menu02"
                  id="tab-menu02"
                  role="tab"
                  >Table</a
                >
              </div>

              <div class="tab-content" id="panel-menus">
                <div
                  aria-labelledby="tab-menu01"
                  class="tab-pane fade show active border border-top-0 jumbotron"
                  id="panel-menu01"
                  role="tabpanel"
                >
                  <div id="app__counter" class="row d-flex align-items-center">
                    <div class="col-md-1">
                      <button class="btn btn-primary" id="decrement">
                        -
                      </button>
                    </div>
                    <div class="col-md-10">
                      <h1 class="display-1 text-center">FizzBuzz</h1>
                    </div>
                    <div class="col-md-1">
                      <button class="btn btn-primary" id="increment">
                        +
                      </button>
                    </div>
                  </div>
                </div>
                <div
                  aria-labelledby="tab-menu02"
                  class="tab-pane fade border border-top-0"
                  id="panel-menu02"
                  role="tabpanel"
                >
                  <dvi class="row p-3">
                    <div id="app__table" class="col-md-12 order-md-2">
                      <dvi class="row p-3">
                        <div class="col-md-12 order-md-2">
                          <div id="app__select">
                            <select
                              name="type"
                              id="app__select--type"
                              class="browser-default custom-select"
                            >
                              <option value="one">タイプ1</option>
                              <option value="two">タイプ2</option>
                              <option value="three">タイプ3</option>
                            </select>
                          </div>
                          <div
                            class="table-responsive"
                            id="app__table-contents"
                          >
                            <table class="table table-striped">
                              <thead>
                                <tr>
                                  <th>1</th>
                                  <th>2</th>
                                  <th>3</th>
                                  <th>4</th>
                                  <th>5</th>
                                  <th>6</th>
                                  <th>7</th>
                                  <th>8</th>
                                  <th>9</th>
                                  <th>10</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td>1</td>
                                  <td>2</td>
                                  <td>Fizz</td>
                                  <td>4</td>
                                  <td>Buzz</td>
                                  <td>Fizz</td>
                                  <td>7</td>
                                  <td>8</td>
                                  <td>Fizz</td>
                                  <td>Buzz</td>
                                </tr>
                                <tr>
                                  <td>11</td>
                                  <td>Fizz</td>
                                  <td>13</td>
                                  <td>14</td>
                                  <td>FizzBuzz</td>
                                  <td>16</td>
                                  <td>17</td>
                                  <td>Fizz</td>
                                  <td>19</td>
                                  <td>Buzz</td>
                                </tr>
                                <tr>
                                  <td>Fizz</td>
                                  <td>22</td>
                                  <td>23</td>
                                  <td>Fizz</td>
                                  <td>Buzz</td>
                                  <td>26</td>
                                  <td>Fizz</td>
                                  <td>28</td>
                                  <td>29</td>
                                  <td>FizzBuzz</td>
                                </tr>
                                <tr>
                                  <td>31</td>
                                  <td>32</td>
                                  <td>Fizz</td>
                                  <td>34</td>
                                  <td>Buzz</td>
                                  <td>Fizz</td>
                                  <td>37</td>
                                  <td>38</td>
                                  <td>Fizz</td>
                                  <td>Buzz</td>
                                </tr>
                                <tr>
                                  <td>41</td>
                                  <td>Fizz</td>
                                  <td>43</td>
                                  <td>44</td>
                                  <td>FizzBuzz</td>
                                  <td>46</td>
                                  <td>47</td>
                                  <td>Fizz</td>
                                  <td>49</td>
                                  <td>Buzz</td>
                                </tr>
                                <tr>
                                  <td>Fizz</td>
                                  <td>52</td>
                                  <td>53</td>
                                  <td>Fizz</td>
                                  <td>Buzz</td>
                                  <td>56</td>
                                  <td>Fizz</td>
                                  <td>58</td>
                                  <td>59</td>
                                  <td>FizzBuzz</td>
                                </tr>
                                <tr>
                                  <td>61</td>
                                  <td>62</td>
                                  <td>Fizz</td>
                                  <td>64</td>
                                  <td>Buzz</td>
                                  <td>Fizz</td>
                                  <td>67</td>
                                  <td>68</td>
                                  <td>Fizz</td>
                                  <td>Buzz</td>
                                </tr>
                                <tr>
                                  <td>71</td>
                                  <td>Fizz</td>
                                  <td>73</td>
                                  <td>74</td>
                                  <td>FizzBuzz</td>
                                  <td>76</td>
                                  <td>77</td>
                                  <td>Fizz</td>
                                  <td>79</td>
                                  <td>Buzz</td>
                                </tr>
                                <tr>
                                  <td>Fizz</td>
                                  <td>82</td>
                                  <td>83</td>
                                  <td>Fizz</td>
                                  <td>Buzz</td>
                                  <td>86</td>
                                  <td>Fizz</td>
                                  <td>88</td>
                                  <td>89</td>
                                  <td>FizzBuzz</td>
                                </tr>
                                <tr>
                                  <td>91</td>
                                  <td>92</td>
                                  <td>Fizz</td>
                                  <td>94</td>
                                  <td>Buzz</td>
                                  <td>Fizz</td>
                                  <td>97</td>
                                  <td>98</td>
                                  <td>Fizz</td>
                                  <td>Buzz</td>
                                </tr>
                                <tr></tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </dvi>
                    </div>
                  </dvi>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
      <!-- /コンテンツ01 -->
    </main>
    <!-- /メイン -->
    <!-- フッター -->
    <footer class="py-4 bg-dark text-light">
      <div class="container text-center">
        <!-- ナビゲーション -->
        <ul class="nav justify-content-center mb-3">
          <li class="nav-item">
            <a href="#" class="nav-link">Top</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">About</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">Contents</a>
          </li>
        </ul>
        <!-- /ナビゲーション -->
        <p>
          <small>Copyright &copy;2019 HiroshiamARC, All Rights Reserved.</small>
        </p>
      </div>
    </footer>
    <!-- /フッター -->
    <div id="dev">
      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script
        src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"
      ></script>
      <script
        src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"
      ></script>
      <script
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"
      ></script>
      <!-- PapaParse -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.1.0/papaparse.js"></script>

      <!-- nanoSQL2 -->
      <!-- ES6 Only (Faster & Smaller) -->
      <script
        src="https://cdn.jsdelivr.net/npm/@nano-sql/core@2.3.7/dist/nano-sql.min.js"
        integrity="sha256-W1pVgKda7GC4fwXqq9jfOrssBDJJXZqck+ultRPVzmc="
        crossorigin="anonymous"
      ></script>
      <!-- ES5 (Internet Explorer/Old Browser Support) -->
      <!-- Promise must be polyfilled as well -->
      <script
        src="https://cdn.jsdelivr.net/npm/@nano-sql/core@2.3.7/dist/nano-sql.min.es5.js"
        integrity="sha256-1t9VlpFUgHaxlLQy6HM9ROQvTiuUv2M12Fp1oTh3+yg="
        crossorigin="anonymous"
      ></script>

      <!-- markdown -->
      <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

      <!-- PluntUML -->
      <!--  taken from https://github.com/johan/js-deflate -->
      <script src="./lib/rawdeflate.js"></script>

      <!-- mocha, chai -->
      <script src="https://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/4.2.0/chai.min.js"></script>
      <script>
        const dev = document.querySelector("#app");
        if (dev !== null) {
          dev.innerHTML = `
          <div class="container">
            <h1>FizzBuzz</h1>
              <div class="py-3">
              <div id="mocha"></div>
            <div class="row p-3">
              <div id="spec"></div>
            </div>
            <h2>クラス図</h2>
            <div class="row p-3">
              <img id="class-im"
              src=http://www.plantuml.com/plantuml/img/SyfFKj2rKt3CoKnELR1Io4ZDoSa70000>
            </div>
            <h2>アプリケーション</h2>
              <div id="app-fizz-buzz"></div>
            </div>
          </div> `;
        }
      </script>

      <script>
        mocha.setup("tdd");
        const assert = chai.assert;
        suite("FizzBuzzServiceTest", () => {
          suite("GenerateApiService", () => {
            test("3を渡したらJSONオブジェクトを返す", () => {
              assert.deepEqual({ number: 3, value: "Fizz" }, generate(3));
            });
          });
        });

        function generate(number) {
          fetch("https://tddrb.k2works.now.sh/api/generate?number=3")
            .then(response => {
              return response.json();
            })
            .then(json => {
              console.log(JSON.stringify(json));
            });
        }
      </script>

      <script>
        const spec = document.getElementById("spec");
        if (spec) {
          // eslint-disable-next-line no-undef
          spec.innerHTML = marked(
            `
## 仕様
1から100までを１件ずつ画面に表示できる。

1から100まで表示された内容を表示できる。

## ToDoリスト
- [ ] カウンター画面
  - [x] 画面イメージを作る
  - [x] APIサービスを作る
  - [ ] APIサービスと連携するクライアントサービスを作る
  - [ ] UIを作る
  - [ ] UIとクライアントサービスを連携する
- [ ] 一覧表示画面
  - [x] 画面イメージを作る
  - [ ] APIサービスを作る
  - [ ] APIサービスと連携するクライアントサービスを作る
  - [ ] UIを作る
  - [ ] UIとクライアントサービスを連携する
        `
          );
        }
      </script>
      <script>
        /* eslint-disable */
        const classDiagram = (() => {
          const inputId = "class-diagram-input";
          const outputId = "class-im";
          const source = `
package Presentation {
  class FizzBuzzView {
  }
}

package Application {
  package Service {
    class FizzBuzzService {
    }

    interface FizzBuzzCommand {
    }

    class FizzBuzzValueCommand {
    }

    class FizzBuzzListCommand {
    }
  }
}

package Domain {
    package Model {
      class FizzBuzzValue {
      }

      class FizzBuzzList {
      }
    }

    package Type {
      class FizzBuzzType {
      }

      class FizzBuzzType01 {
      }

      class FizzBuzzType02 {
      }

      class FizzBuzzType03 {
      }
    }
}
FizzBuzzCommand <|-- FizzBuzzValueCommand
FizzBuzzCommand <|-- FizzBuzzListCommand
FizzBuzzCommand *- FizzBuzzType
FizzBuzzType <|-- FizzBuzzType01
FizzBuzzType <|-- FizzBuzzType02
FizzBuzzType <|-- FizzBuzzType03
FizzBuzzService -> FizzBuzzCommand
FizzBuzzService <--- FizzBuzzView
`;
          compress(source, outputId);
        })();
        function encode64(data) {
          r = "";
          for (i = 0; i < data.length; i += 3) {
            if (i + 2 == data.length) {
              r += append3bytes(data.charCodeAt(i), data.charCodeAt(i + 1), 0);
            } else if (i + 1 == data.length) {
              r += append3bytes(data.charCodeAt(i), 0, 0);
            } else {
              r += append3bytes(
                data.charCodeAt(i),
                data.charCodeAt(i + 1),
                data.charCodeAt(i + 2)
              );
            }
          }
          return r;
        }
        function append3bytes(b1, b2, b3) {
          c1 = b1 >> 2;
          c2 = ((b1 & 0x3) << 4) | (b2 >> 4);
          c3 = ((b2 & 0xf) << 2) | (b3 >> 6);
          c4 = b3 & 0x3f;
          r = "";
          r += encode6bit(c1 & 0x3f);
          r += encode6bit(c2 & 0x3f);
          r += encode6bit(c3 & 0x3f);
          r += encode6bit(c4 & 0x3f);
          return r;
        }
        function encode6bit(b) {
          if (b < 10) {
            return String.fromCharCode(48 + b);
          }
          b -= 10;
          if (b < 26) {
            return String.fromCharCode(65 + b);
          }
          b -= 26;
          if (b < 26) {
            return String.fromCharCode(97 + b);
          }
          b -= 26;
          if (b == 0) {
            return "-";
          }
          if (b == 1) {
            return "_";
          }
          return "?";
        }
        var deflater = window.SharedWorker && new SharedWorker("rawdeflate.js");
        if (deflater) {
          deflater.port.addEventListener("message", done_deflating, false);
          deflater.port.start();
        } else if (window.Worker) {
          deflater = new Worker("rawdeflate.js");
          deflater.onmessage = done_deflating;
        }
        function done_deflating(e, id) {
          document.getElementById(id).src =
            "http://www.plantuml.com/plantuml/img/" + encode64(e.data);
        }
        function compress(s, id) {
          //UTF8
          s = unescape(encodeURIComponent(s));
          if (deflater) {
            if (deflater.port && deflater.port.postMessage) {
              deflater.port.postMessage(s);
            } else {
              deflater.postMessage(s);
            }
          } else {
            setTimeout(function() {
              done_deflating({ data: deflate(s) }, id);
            }, 100);
          }
        }
      </script>
      <script>
        mocha.globals(["jQuery"]);
        mocha.run();
      </script>
    </div>
  </body>
</html>
